# Declarative Validation Profile for Domain Metadata
# --------------------------------------------------
# This profile enforces logical consistency and schema bounds for metadata fields.
# Expression-based rules are listed under `rules:`.
# Field-level constraints are mapped under top-level domain blocks (e.g. domain_definition).

rules:
  # Ensure max_z is greater than min_z
  - if: domain_definition.max_z > domain_definition.min_z
    else: "Invalid bounds: max_z must exceed min_z"

  # Ensure grid resolution is nonzero
  - if: domain_definition.nx != 0
    else: "Grid resolution nx must be nonzero"

  # Ensure max_x is not less than min_x
  - if: domain_definition.max_x >= domain_definition.min_x
    else: "max_x cannot be less than min_x"

domain_definition:
  nx: {min: 1}
  ny: {min: 1}
  nz: {min: 1}
  min_x: {type: number}
  max_x: {type: number}
  min_y: {type: number}
  max_y: {type: number}
  min_z: {type: number}
  max_z: {type: number}



